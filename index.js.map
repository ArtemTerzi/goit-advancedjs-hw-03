{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhotosByQuery = q => {\n  const fetchParamms = new URLSearchParams({\n    key: '33730392-00e87f60b0c2dabc7d687ed2e',\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${fetchParamms}`).then(response => {\n    if (!response.ok) throw new Error(response.status);\n\n    return response.json();\n  });\n};\n","export const createGalleryMarkup = array => {\n  return array.reduce(\n    (\n      acc,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) =>\n      acc +\n      `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=${largeImageURL}>\n          <img\n            class=\"gallery-image\"\n            src=${webformatURL}\n            alt=${tags}\n          />\n        <ul class=\"item-details\">\n            <li class=\"item-detail\">\n              <p>Likes</p>\n              <span>${likes}</span>\n            </li>\n            <li class=\"item-detail\">\n              <p>Views</p>\n              <span>${views}</span>\n            </li>\n            <li class=\"item-detail\">\n              <p>Comments</p>\n              <span>${comments}</span>\n            </li>\n            <li class=\"item-detail\">\n              <p>Downloads</p>\n              <span>${downloads}</span>\n            </li>\n        </ul>\n        </a>\n      </li>`,\n    ''\n  );\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport { createGalleryMarkup } from './js/render-functions';\n\nconst refs = {\n  galleryEl: document.querySelector('.gallery'),\n  inputEl: document.querySelector('.form-input'),\n  formEl: document.querySelector('.form'),\n  loaderEl: document.querySelector('.loader'),\n};\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  animationSpeed: 250,\n  scrollZoom: false,\n});\n\nconst toastConfig = {\n  title: 'Error',\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  position: 'topRight',\n};\n\nconst toggleLoader = () => refs.loaderEl.classList.toggle('is-active');\n\nconst handleClick = e => {\n  e.preventDefault();\n  refs.galleryEl.innerHTML = '';\n  toggleLoader();\n\n  const q = refs.inputEl.value.trim();\n  refs.inputEl.value = '';\n\n  if (q.length === 0) {\n    iziToast.error(toastConfig);\n    toggleLoader();\n    return;\n  }\n\n  fetchPhotosByQuery(q)\n    .then(data => {\n      if (data.hits.length === 0) throw new Error(message);\n\n      refs.galleryEl.innerHTML = createGalleryMarkup(data.hits);\n      gallery.refresh();\n    })\n    .catch(err => {\n      iziToast.error(toastConfig);\n      console.dir(err);\n    })\n    .finally(() => toggleLoader());\n};\n\nrefs.formEl.addEventListener('submit', handleClick);\n"],"names":["fetchPhotosByQuery","q","fetchParamms","response","createGalleryMarkup","array","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","gallery","SimpleLightbox","toastConfig","toggleLoader","handleClick","e","iziToast","data","err"],"mappings":"6vBAAO,MAAMA,EAAqBC,GAAK,CACrC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjD,OAAOA,EAAS,MACpB,CAAG,CACH,ECdaC,EAAsBC,GAC1BA,EAAM,OACX,CACEC,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAExEP,EACA;AAAA;AAAA,uCAEiCE,CAAa;AAAA;AAAA;AAAA,kBAGlCD,CAAY;AAAA,kBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKAC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,aAK3B,EACJ,EC7BMC,EAAO,CACX,UAAW,SAAS,cAAc,UAAU,EAC5C,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,OAAO,EACtC,SAAU,SAAS,cAAc,SAAS,CAC5C,EAEA,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,WAAY,EACd,CAAC,EAED,MAAMC,EAAc,CAClB,MAAO,QACP,QACE,2EACF,SAAU,UACZ,EAEMC,EAAe,IAAMJ,EAAK,SAAS,UAAU,OAAO,WAAW,EAE/DK,EAAcC,GAAK,CACvBA,EAAE,eAAc,EAChBN,EAAK,UAAU,UAAY,GAC3BI,IAEA,MAAMjB,EAAIa,EAAK,QAAQ,MAAM,KAAI,EAGjC,GAFAA,EAAK,QAAQ,MAAQ,GAEjBb,EAAE,SAAW,EAAG,CAClBoB,EAAS,MAAMJ,CAAW,EAC1BC,IACA,MACD,CAEDlB,EAAmBC,CAAC,EACjB,KAAKqB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,MAAM,IAAI,MAAM,OAAO,EAEnDR,EAAK,UAAU,UAAYV,EAAoBkB,EAAK,IAAI,EACxDP,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMQ,GAAO,CACZF,EAAS,MAAMJ,CAAW,EAC1B,QAAQ,IAAIM,CAAG,CACrB,CAAK,EACA,QAAQ,IAAML,EAAY,CAAE,CACjC,EAEAJ,EAAK,OAAO,iBAAiB,SAAUK,CAAW"}